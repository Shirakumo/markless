\definesubsection{Lists}
\begin{identifier}{Ordered List}
<number ~d+> <content .*>
(<spacing ~_+> <content .*>)*
\end{identifier}
\begin{identifier}{Unordered List}
- <content .*>
(<spacing ~_+> <content .*>)*
\end{identifier}
\definetextualcomponent{ordered list}{margin: left}
\definetextualcomponent{ordered list item}{display: list-item; list-item-prefix: number}
\definetextualcomponent{unordered list}{margin: left}
\definetextualcomponent{unordered list item}{display: list-item; list-item-prefix: dot} \\

The lists are \gpl{spanning line directive} and mark the enumeration of one or more items of a list. They can contain any \g{directive} with the condition that the \gpl{directive} are matched against the \g{text} of the \g{resulting textual component}. \\

After the respective list \g{identifier} has been \glink{match}{matched}, a new respective item \g{textual component} in which the higher \g{level} \g{text} is contained, is inserted for each \g{match} into the spanning \g{resulting textual component}. A single \g{match} may span over multiple \gpl{line} if the \g{text} \glink{match}{matched} by the \inline$spacing$ \g{binding} is of the same length as that of the \inline$number$ \g{binding}. In such a case, each item \g{match} itself is treated like a \g{spanning line directive} where the \g{content binding} is concatenated. \\

Ordered list items must be numbered by the \g{decimal number} given by the \inline$number$ \g{binding}, even if there is no order to how the numbers appear in the list or if there are duplicates. \\

\begin{examples}
\begin{examplesource}
- Finish this spec
- Implement a parser
\end{examplesource}
  \begin{exampleoutput}
    \begin{minipage}{0.5\textwidth}
      \begin{itemize}[noitemsep]
      \item Finish this spec
      \item Implement a parser
      \end{itemize}
    \end{minipage}
  \end{exampleoutput}
\begin{examplesource}
1 Buy some ingredients
2 Clean the kitchen
  Don't forget the sink!
5 Watch TV
\end{examplesource}
  \begin{exampleoutput}
    \begin{minipage}{0.5\textwidth}
      \begin{enumerate}[noitemsep]
      \item Buy some ingredients
      \item Clean the kitchen\\Don't forget the sink!
        \setcounter{enumi}{4}
      \item Watch TV
      \end{enumerate}
    \end{minipage}
  \end{exampleoutput}
\end{examples}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "markless"
%%% TeX-engine: luatex
%%% TeX-command-extra-options: "-shell-escape"
%%% End:
